<html xmlns:th="https://www.thymeleaf.org">
<head>
    <script type="text/javascript" src="/js/PuzzleDrawer.js"></script>
    <link rel="stylesheet" href="/css/PuzzleDrawer.css"/>
    <title>Scrambler</title>
    <th:block th:include="fragments/head :: genericHead"></th:block>
    <script th:inline="javascript">
       if ([[${redirect}]]){
          window.location.href = [[${redirect}]];
       }

       function registrar() {
           window.location += '&token=' + [[${token}]] + '&expiresIn=' + [[${expiresIn}]] ;

       }
    </script>
</head>


<body class="cubosbg">
<div th:replace="fragments/backButton :: backButton"/>
<div class="simple-centrado-vertical">
    <div class="whitePanel" style="width: 80%; text-align: center;">

        <div id="scrambleWrapper"></div>

        <div style="margin-top: 30px;  margin-bottom: 30px">
            <button class="btn btn-primary" onclick="s.f();">F
            </button>
            <button class="btn btn-primary" onclick="s.fAnticlockwise();">F'
            </button>
            <button class="btn btn-primary" onclick="s.u();">U
            </button>
            <button class="btn btn-primary" onclick="s.uAnticlockwise();">U'
            </button>
            <button class="btn btn-primary" onclick="s.r();">R
            </button>
            <button class="btn btn-primary" onclick="s.rAnticlockwise();">R'
            </button>
            <button class="btn btn-primary" onclick="s.l();">L
            </button>
            <button class="btn btn-primary" onclick="s.lAnticlockwise();">L'
            </button>
            <button class="btn btn-primary" onclick="s.d();">D
            </button>
            <button class="btn btn-primary" onclick="s.dAnticlockwise();">D'
            </button>
            <button class="btn btn-primary" onclick="s.b();">B
            </button>
            <button class="btn btn-primary" onclick="s.bAnticlockwise();">B'
            </button>
        </div>
        <div style="display: flex; justify-content: center;  margin-bottom: 30px;">
            <select onchange="newScramble()" class="form-control" id="puzzle" style="width: 300px; margin-right: 30px;">
                <option>2x2x2</option>
                <option selected="selected">3x3x3</option>
                <option>4x4x4</option>
                <option>5x5x5</option>
                <option>6x6x6</option>
                <option>7x7x7</option>
            </select>
            <button onclick="newScramble()" class="btn btn-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-repeat" viewBox="0 0 16 16">
                <path d="M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"/>
                <path fill-rule="evenodd" d="M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"/>
            </svg></button>
        </div>
        <div style="display: flex; justify-content: center;">
            <input placeholder="" class="form-control" id="scramble" style="width: 300px;  margin-right: 30px;"></input>
            <button onclick="addMovements()" class="btn btn-primary"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"/>
            </svg></button>
        </div>
        <script>

            var s = new Scramble(document.getElementById('puzzle').value, document.getElementById("scrambleWrapper"), true);

            function newScramble() {
                s = new Scramble(document.getElementById('puzzle').value, document.getElementById("scrambleWrapper"), true);
                s.draw();
            }

            function addMovements() {
                s.scramble(document.getElementById('scramble').value);
                document.getElementById('scramble').value = '';
            }
        </script>
    </div>
</div>
</body>
</html>